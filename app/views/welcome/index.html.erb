
<% if !@all_done %>
<div class="relative bg-pink-900">
  <div class="max-w-screen-xl mx-auto py-10 px-4 sm:px-1 lg:py-8 lg:px-2 lg:flex lg:items-center lg:justify-between">
    <div class="md:ml-auto">
      <h2 class="font-sans mt-2 text-white text-3xl leading-9 font-bold tracking-tight sm:text-4xl sm:leading-10">
        Welcome to Enscale
      </h2>
      <p class="font-sans mt-3 text-lg leading-7 text-purple-100">
      The purpose of this application is to familiarize yourself with Enscale's most important features. While learning should be done for the sake of learning, we will also reward upon completion with bonus funds. This way you can enjoy an extended trial and learn even more before upgrading your account.
      </p>
    </div>
  </div>
</div>
<% end %>

<% if @all_done %>
  <div class="bg-pink-900">
    <div class="max-w-screen-xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8 lg:flex lg:items-center lg:justify-between">
      <h2 class="text-3xl leading-9 font-bold tracking-tight text-white sm:text-4xl sm:leading-10">
        CONGRATULATIONS
        <br>
        <span class="text-white font-semibold tracking-normal">You have completed all tasks.</span>
      </h2>
      <div class="mt-8 flex lg:flex-shrink-0 lg:mt-0">
        <div class="inline-flex rounded-md shadow">
          <a href="https://dashboard.enscale.com/overview#reward" class="inline-flex items-center justify-center px-6 py-6 border-4 border-white text-3xl text-white leading-6 font-semibold rounded-md text-white bg-pink-900 hover:bg-white hover:text-pink-900 focus:outline-none focus:shadow-outline transition duration-150 ease-in-out">
            Claim Reward
          </a>
        </div>
      </div>
    </div>
  </div>
<% end %>


<div class="bg-purple-100">

  <% if @redis_connection %>
    <div class="max-w-screen-xl mx-auto px-2 sm:px-4 lg:px-6 py-6">
      <div class="border-4 border-green-500 bg-white overflow-hidden shadow rounded-lg">
        <div class="border-b border-gray-200 px-4 py-5 sm:px-6 grid md:grid-cols-12">
          <p class="mt-3 text-lg leading-7 text-pink-900 font-semibold uppercase md:col-span-9 order-2 md:order-1"> 
          ADDING REDIS
          </p>
          <img src="green_tick.svg" class="col-span-12 md:col-start-12 order-1 md:order-2 mb-8 md:mb-0 w-12 h-12">    
        </div>
      </div>
    </div>
  <% else %>
    <div class="max-w-screen-xl mx-auto px-2 sm:px-4 lg:px-6 py-6">
      <div class=" bg-white overflow-hidden shadow rounded-lg">
        <div class="border-b border-gray-200 px-4 py-5 sm:px-6">
          <p class="mt-3 text-lg leading-7 text-pink-900 font-semibold uppercase md:col-span-9 order-2 md:order-1">
          ADDING REDIS
          </p>    
        </div>
        <div class="px-6 py-5 mt-1 text-lg leading-5 text-gray-800 font-semibold">
          1. Add the node to your environment
        </div>
        <div class="px-6">
          <p>Detailed steps for adding an extra node can be found in this <a href="https://www.enscale.com/docs/10/features/horizontal-scaling#adding-new-nodes" class="text-blue-600">article</a>. </p>
        </div>
        <div class="px-6 py-5 mt-1 text-lg leading-5 text-gray-800 font-semibold">
          2. Create the environment variable
        </div>
        <div class="px-6 pb-6">
          Once the Redis node is added, you should add its URL to the runtime node's environment variables. See <a href="https://www.enscale.com/docs/10/features/environment-variables#adding-variables"  class="text-blue-600"> here </a> how.
        </div>
      </div>
    </div>
  <% end %>


  <% if @ssl_on %>
    <div class="max-w-screen-xl mx-auto px-2 sm:px-4 lg:px-6 py-6">
      <div class="border-4 border-green-500 bg-white overflow-hidden shadow rounded-lg">
        <div class="border-b border-gray-200 px-4 py-5 sm:px-6 grid md:grid-cols-12">
          <p class="mt-3 text-lg leading-7 text-pink-900 font-semibold uppercase md:col-span-9 order-2 md:order-1"> 
          SECURING WITH SSL
          </p>
          <img src="green_tick.svg" class="col-span-12 md:col-start-12 order-1 md:order-2 mb-8 md:mb-0 w-12 h-12">    
        </div>
      </div>
    </div>
  <% else %>
    <div class="max-w-screen-xl mx-auto px-2 sm:px-4 lg:px-6 py-6">
      <div class=" bg-white overflow-hidden shadow rounded-lg">
        <div class="border-b border-gray-200 px-4 py-5 sm:px-6 grid md:grid-cols-12">
          <p class="mt-3 text-lg leading-7 text-pink-900 font-semibold uppercase md:col-span-9 order-2 md:order-1">
          SECURING WITH SSL
          </p>
        </div>
        <div class="px-6 py-5 mt-1 text-lg leading-5 text-gray-800 font-semibold">
          Use our shared SSL certificate to ensure there is a secure HTTPS connection to your environment
        </div>
        <div class="px-6 pb-6">
          <p>Shared SSL can be enabled easily following the steps described <a href="https://www.enscale.com/docs/10/features/ssl-certificates#enscale-shared-ssl" class="text-blue-600">in our documentation</a> and is pefect for development projects which don't need public IP access. </p>
          <br>
          <p>For production use you will have a choice of using your own SSL certificate, or use our Let's Encrypt integration to issue and automatically renew SSL certificates for the environment name or any custom domain you've pointed to your environment.</p>
        </div>

      </div>
    </div>

  <% end %>

  <% if @master_key_file %>
    <div class="max-w-screen-xl mx-auto px-2 sm:px-4 lg:px-6 py-6">
      <div class="border-4 border-green-500 bg-white overflow-hidden shadow rounded-lg">
        <div class="border-b border-gray-200 px-4 py-5 sm:px-6 grid md:grid-cols-12">
          <p class="mt-3 text-lg leading-7 text-pink-900 font-semibold uppercase md:col-span-9 order-2 md:order-1"> 
          CREATING A MASTER KEY FILE
          </p>
          <img src="green_tick.svg" class="col-span-12 md:col-start-12 order-1 md:order-2 mb-8 md:mb-0 w-12 h-12">    
        </div>
      </div>
    </div>
  <% else %>
    <div class="max-w-screen-xl mx-auto px-2 sm:px-4 lg:px-6 py-6">
      <div class=" bg-white overflow-hidden shadow rounded-lg">
        <div class="border-b border-gray-200 px-4 py-5 sm:px-6 grid md:grid-cols-12">
          <p class="mt-3 text-lg leading-7 text-pink-900 font-semibold uppercase md:col-span-9 order-2 md:order-1">
          CREATING A MASTER KEY FILE
          </p>
        </div>
        <div class="px-6 py-5 mt-1 text-lg leading-5 text-gray-800 font-semibold">
          1. Set up SSH
        </div>
        <div class="px-6">
          <p><a href="https://www.enscale.com/docs/10/access/add-ssh-key" class="text-blue-600">Add a public SSH key</a>  to the Enscale dashboard so you can connect via SSH to your account environments, or your node directly.</p>
        </div>
        <div class="px-6 py-5 mt-1 text-lg leading-5 text-gray-800 font-semibold">
          2. Connect to your application node
        </div>
        <div class="px-6">
          Establish an SSH connection to your node using your<a href="https://www.enscale.com/docs/10/access/connect-with-ssh#connect-to-a-specific-node-directly"  class="text-blue-600"> node's connection details</a>.
        </div>
        <div class="px-6 py-5 mt-1 text-lg leading-5 text-gray-800 font-semibold">
          3. Create the Master Key file
        </div>
        <div class="px-6 pb-6">
          Run <text class="text-gray-700 font-mono">rails secret > config/master.key</text> in webroot.
        </div>
      </div>
    </div>
  <% end %>


  <% if @db %>
    <div class="max-w-screen-xl mx-auto px-2 sm:px-4 lg:px-6 py-6">
      <div class="border-4 border-green-500 bg-white overflow-hidden shadow rounded-lg">
        <div class="border-b border-gray-200 px-4 py-5 sm:px-6 grid md:grid-cols-12">
          <p class="mt-3 text-lg leading-7 text-pink-900 font-semibold uppercase md:col-span-9 order-2 md:order-1"> 
          SETTING A DATABASE NAME
          </p>
          <img src="green_tick.svg" class="col-span-12 md:col-start-12 order-1 md:order-2 mb-8 md:mb-0 w-12 h-12">    
        </div>
      </div>
    </div>
  <% else %>
    <div class="max-w-screen-xl mx-auto px-2 sm:px-4 lg:px-6 py-6">
      <div class=" bg-white overflow-hidden shadow rounded-lg">
        <div class="border-b border-gray-200 px-4 py-5 sm:px-6 grid md:grid-cols-12">
          <p class="mt-3 text-lg leading-7 text-pink-900 font-semibold uppercase md:col-span-9 order-2 md:order-1">
          SETTING A DATABASE NAME
          </p>
        </div>
        <div class="px-6 py-5 mt-1 text-lg leading-5 text-gray-800 font-semibold">
          1. Open the database.yml file
        </div>
        <div class="px-6">
          <p>Access the <a href="https://www.enscale.com/docs/10/features/file-manager" class="text-blue-600">File Manager</a>  in Enscale, then from the ROOT/config folder click on database.yml.</p>
        </div>
        <div class="px-6 py-5 mt-1 text-lg leading-5 text-gray-800 font-semibold">
          2. Edit the database.yml file and save your changes
        </div>
        <div class="px-6 pb-6"> You will need to add the below lines:
<pre class="bg-gray-400">
default: &default
  adapter: sqlite3
  pool: 5

production:
  <<: *default
  database: yourdbnamehere.db
</pre>
        </div>
      </div>
    </div>
  <% end %>

</div>